# =============================================================================
# Netdisco Configuration (deployment.yml)
# =============================================================================
# Автоматична інвентаризація мережевого обладнання
# Ref: https://github.com/netdisco/netdisco/wiki/Configuration
# Location: netdisco/config/deployment.yml
# NOTE: Daemons automatically restart when you save changes to this file
# =============================================================================

# -----------------------------------------------------------------------------
# SNMP Community Strings
# -----------------------------------------------------------------------------
# List of read-only SNMP community strings to try on each device
# Each is tried in turn, and the working one will be cached in the database
community:
  - public
  - private
  # - your_custom_community

# Write community strings (for port control features)
# community_rw:
#   - private

# -----------------------------------------------------------------------------
# Device Authentication (SNMPv3 and advanced SNMP config)
# -----------------------------------------------------------------------------
# For fine-grained control over which communities are tried for which devices
# Ref: https://github.com/netdisco/netdisco/wiki/Configuration#device_auth
# device_auth:
#   # Default SNMPv2c read-only access
#   - tag: 'default_v2_readonly'
#     community: 'public'
#     read: true
#     write: false
#
#   # SNMPv3 example:
#   - tag: 'snmpv3_auth'
#     user: 'netdisco'
#     auth:
#       pass: 'authpassword'
#       proto: 'SHA'
#     priv:
#       pass: 'privpassword'
#       proto: 'AES'
#     read: true

# -----------------------------------------------------------------------------
# Discovery Settings
# -----------------------------------------------------------------------------
# Discover wireless access points
discover_waps: true

# Discover VoIP phones
discover_phones: false

# Automatically discover neighbors found via CDP/LLDP
discover_neighbors: true

# -----------------------------------------------------------------------------
# Scheduling (Backend Daemon)
# -----------------------------------------------------------------------------
# Number of parallel workers for the backend daemon
workers: 2

# Scheduled actions
# Ref: https://github.com/netdisco/netdisco/wiki/Configuration#schedule
schedule:
  # Device discovery every 4 hours
  - action: discover
    interval: '4h'

  # MAC address collection every 30 minutes
  - action: macsuck
    interval: '30m'

  # ARP table collection every 30 minutes
  - action: arpnip
    interval: '30m'

  # NetBIOS name resolution every 12 hours
  - action: nbtstat
    interval: '12h'

  # Delete expired data daily at 2 AM
  - action: expire
    interval: '1d'
    at: '02:00'

# -----------------------------------------------------------------------------
# Data Retention
# -----------------------------------------------------------------------------
# Days after which inactive devices are deleted (0 = never)
expire_devices: 60

# Days after which MAC/IP records are deleted (0 = never)
expire_nodes: 30

# -----------------------------------------------------------------------------
# DNS Settings
# -----------------------------------------------------------------------------
dns:
  # Maximum concurrent DNS queries
  max_outstanding: 50
  # Only perform reverse DNS lookups
  hosts_only: true

# -----------------------------------------------------------------------------
# Web Interface Security
# -----------------------------------------------------------------------------
# Set to false to REQUIRE authentication (recommended for production!)
no_auth: false

# -----------------------------------------------------------------------------
# Timezone
# -----------------------------------------------------------------------------
timezone: 'Europe/Kyiv'

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
# Log level: debug, info, warning, error
log: 'info'

# -----------------------------------------------------------------------------
# Local Plugins
# -----------------------------------------------------------------------------
# Enable loading plugins from nd-site-local directory
site_local_files: true
