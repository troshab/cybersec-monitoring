# =============================================================================
# Grafana Configuration
# =============================================================================
# Cybersec Monitoring Stack
# =============================================================================

[server]
# Протокол (http/https)
protocol = http

# Порт
http_port = 3000

# Domain для URL генерації
domain = 10.0.1.2

# Root URL
root_url = %(protocol)s://%(domain)s:%(http_port)s/

# Serve from subpath (якщо за reverse proxy)
serve_from_sub_path = false

[database]
# SQLite за замовчуванням (достатньо для малих інсталяцій)
type = sqlite3
path = /var/lib/grafana/grafana.db

[security]
# Адмін користувач
admin_user = monadmin
admin_password = Mon!123admin

# Секретний ключ для cookies
secret_key = 372e4953ba23b87c1bf9ec8d5e0122870453aa8aa892d44242c65880d1c59ed6

# Вимкнути можливість вбудовування в iframe (безпека)
allow_embedding = false

# Cookie security
cookie_secure = false
cookie_samesite = lax

# Strict transport security
strict_transport_security = false

[users]
# Заборонити самореєстрацію
allow_sign_up = false

# Заборонити створення організацій
allow_org_create = false

# Автоматично назначати нових користувачів
auto_assign_org = true
auto_assign_org_role = Viewer

# Встановити default home dashboard
default_theme = dark

[auth]
# Вимкнути базову авторизацію
disable_login_form = false

# OAuth (вимкнено)
disable_signout_menu = false

[auth.anonymous]
# ОБОВ'ЯЗКОВО вимкнути анонімний доступ
enabled = false

[auth.basic]
enabled = true

[smtp]
# Email налаштування (для скидання паролів та sharing)
enabled = true
host = mailpit:1025
user =
password =
from_address = monitoring@lab.local
from_name = Grafana Monitoring

[unified_alerting]
enabled = true

# Зберігати історію алертів
min_interval = 10s

[dashboards]
# Версіонування дашбордів
versions_to_keep = 20

# Мінімальний інтервал оновлення
min_refresh_interval = 10s

[panels]
# Вимкнути sanitize HTML (якщо потрібен HTML в описах)
disable_sanitize_html = false

[plugins]
# Дозволити unsigned plugins
allow_loading_unsigned_plugins =

[log]
# Рівень логування
level = info

# Формат
mode = console

[log.console]
format = text

[dataproxy]
# Timeout для запитів до datasources
timeout = 60

[analytics]
# Вимкнути телеметрію
reporting_enabled = false
check_for_updates = false

[feature_toggles]
# Feature flags (за потреби)
enable =

[date_formats]
# Формат дати (24-годинний)
default_timezone = Europe/Kyiv
